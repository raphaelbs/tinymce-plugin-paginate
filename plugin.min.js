!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";a("./src/main")},{"./src/main":7}],2:[function(a,b,c){"use strict";function d(a){this._testDPIElement=null,this.document=a,this._setScreenDPI()}var e=function(){return $("#dpi-test")[0]?void(this._testDPIElement=$("#dpi-test")):(this._testDPIElement=$("<div/>").attr("id","dpi-test").css({position:"absolute",top:"-100%",left:"-100%",height:"1in",width:"1in",border:"red 1px solid"}),void $("body").prepend(this._testDPIElement))};d.prototype._setScreenDPI=function(){if(e.call(this),this._testDPIElement[0].offsetWidth!==this._testDPIElement[0].offsetHeight)throw new Error("FATAL ERROR: Bad Screen DPI !");this.screenDPI=this._testDPIElement[0].offsetWidth},d.prototype.height=function(a){if(!a)throw new Error("Explicit unit for getting document height is required");var b=$("body",this.document).height();return"px"===a?b:"mm"===a?this.px2mm(b):void 0},d.prototype.px2mm=function(a){if(!this.screenDPI)throw new Error("Screen DPI is not defined. Is Display object instantied ?");return 25.4*a/this.screenDPI},d.prototype.mm2px=function(a){if(!this.screenDPI)throw new Error("Screen DPI is not defined. Is Display object instantied ?");return a*this.screenDPI/25.4},b.exports=d},{}],3:[function(a,b,c){"use strict";function d(a,b,c,d,f){this._content=null,this.rank=null,this._editor=f,this._display=new e(f.getDoc()),h.call(this),this.format(a),this.orientate(b),void 0!==c&&(this.rank=c),(void 0!==d||null!==d)&&this.content(d),c&&this.setHeadersAndFooters()}var e=a("./Display"),f=a("../utils/page-formats"),g=function(){function a(a){this.name="InvalidOrientationLabelError",this.message=a+" is an invalid orientation label !",this.stack=(new Error).stack}return a.prototype=Error.prototype,a.prototype.name="InvalidOrientationLabelError",a}();d.prototype.MARGIN_Y=16,d.prototype.content=function(a){return a?void(this._content=a):this._content},d.prototype.innerContent=function(){return this._content?$(this._content).children(":not(.pageFooter):not(.pageHeader)"):void 0},d.prototype.setHeadersAndFooters=function(){function a(a){return a.preventDefault(),!1}function b(a){$(a).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})}function c(a,b){var c=e._editor.settings.paginate_configs();if(c&&c.headerHtml){if("function"!=typeof c.headerHtml)throw Error('[tinymce~paginate] configuration "paginate_configs.headerHtml" should be [function] but is ['+typeof c.headerHtml+"]");c.headerHtml(a,b)}}function d(a,b){var c=e._editor.settings.paginate_configs();if(c&&c.footerHtml){if("function"!=typeof c.footerHtml)throw Error('[tinymce~paginate] configuration "paginate_configs.footerHtml" should be [function] but is ['+typeof c.footerHtml+"]");c.footerHtml(a,b,e.rank)}}var e=this,f=e._editor.settings.paginate_configs();if(f){var g=e.spacingsWithHeaders,h=e.spacingsWithoutHeaders,i=Math.ceil(Number(this._display.mm2px(10))-1),j=$(e._content).find(".pageHeader,.pageFooter").remove();f.margemSuperior&&(h.page.pTop=e._display.mm2px(10*f.margemSuperior)),f.margemInferior&&(h.page.pBottom=e._display.mm2px(10*f.margemInferior));var k={top:h.page.pTop,right:h.page.pRight,bottom:h.page.pBottom,left:h.page.pLeft,minHeight:e.getInnerHeight()},l=f.possuiCabecalhoRodape||j.length>0&&f.headerHtml&&f.possuiCabecalhoRodape!==!1,m=document.createElement("div");m.className="pageHeader",m.contentEditable=!1,m.onmousedown=a,m.style.width="calc(100% - "+g.page.sumWidth()+"px)",m.style.height=k.top-Math.ceil(i/2)+"px",m.style.marginRight=g.header.mRight+"px",m.style.marginLeft=g.header.mLeft+"px",b(m);var n=document.createElement("div");n.className="pageFooter",n.contentEditable=!1,n.onmousedown=a,n.style.width="calc(100% - "+g.page.sumWidth()+"px)",n.style.height=k.bottom-Math.ceil(i/2)+"px",n.style.marginRight=g.footer.mRight+"px",n.style.marginLeft=g.footer.mLeft+"px",b(n),l&&(m.classList+=" large",m.style.height=g.header.height+"px",m.style.paddingTop=g.header.pTop+"px",m.style.paddingBottom=g.header.pBottom+"px",n.classList+=" large",n.style.height=g.footer.height+"px",n.style.paddingTop=g.footer.pTop+"px",n.style.paddingBottom=g.footer.pBottom+"px",k.top=g.page.pTop,k.right=g.page.pRight,k.bottom=g.page.pBottom,k.left=g.page.pLeft,k.height=e.getInnerHeight()),c(m,l),d(n,l),$(e._content).css({"padding-top":k.top+"px ","padding-right":k.right+"px ","padding-bottom":k.bottom+"px ","padding-left":k.left+"px","min-height":k.minHeight}).prepend(m).append(n)}},d.prototype.contentIsEmpty=function(){var a=this.innerContent(),b=0;return a&&(b+=a.text().replace(/\r?\n|\r/gim).replace(/^\s*$/gim,"").length),0===a.length},d.prototype.clean=function(){if(this._content){var a=$(this._content).find(".pageFooter,.pageHeader").detach();$(this._content).html(a)}},d.prototype.append=function(a){var b=this._editor.settings.paginate_configs();return b&&b.possuiCabecalhoRodape?$(a).insertBefore($(this.content()).find(".pageFooter")):$(a).appendTo(this.content()),this},d.prototype.prepend=function(a){var b=this._editor.settings.paginate_configs();return b&&b.possuiCabecalhoRodape?$(a).insertAfter($(this.content()).find(".pageHeader")):$(a).prependTo(this.content()),this},d.prototype.getFirstElement=function(){var a=this._editor.settings.paginate_configs(),b=$(this.content()).contents();return a&&a.possuiCabecalhoRodape?b[1]:b[0]},d.prototype.getLastElement=function(){var a=this._editor.settings.paginate_configs(),b=$(this.content()).contents();return a&&a.possuiCabecalhoRodape?b[b.length-2]:b[b.length-1]},d.prototype.orientate=function(a){var b="string"!=typeof a,c="portrait"!==a.toLowerCase()&&"paysage"!==a.toLowerCase();if(b||c)throw new g(a);this.orientation=a,"portrait"===a?(this.width=this.format()["short"],this.height=this.format()["long"]):(this.width=this.format()["long"],this.height=this.format()["short"])},d.prototype.format=function(a){if(void 0!==a){if(!f[a])throw new Error("Format "+a+" is not supported yet.");return this._format=f[a],this}return this._format},d.prototype.getDefaultHeight=function(){var a=Number(this._display.mm2px(this.height));return Math.ceil(a-1)},d.prototype.getDefaultWidth=function(){var a=Number(this._display.mm2px(this.width));return Math.ceil(a-1)},d.prototype.getInnerHeight=function(){var a=this._editor.settings.paginate_configs(),b=a&&a.possuiCabecalhoRodape?this.spacingsWithHeaders.page.sumHeight():this.spacingsWithoutHeaders.page.sumHeight();return this.getDefaultHeight()-b},d.prototype.getInnerWidth=function(){var a=this._editor.settings.paginate_configs(),b=a&&a.possuiCabecalhoRodape?this.spacingsWithHeaders.page.sumWidth():this.spacingsWithoutHeaders.page.sumWidth();return this.getDefaultWidth()-b},d.prototype.getRealHeight=function(){var a=$(this.content()).css("height"),b=a.split("px").join("");return Number(b)},d.prototype.getAvailableHeight=function(){var a=this.getDefaultHeight(),b=this.getContentHeight(),c=a-b;return c},d.prototype.getContentHeight=function(){var a=this.getLastElement(),b={offsetTop:a.offsetTop,height:Number($(a).css("height").split("px").join("")),margin:Number($(a).css("margin-bottom").split("px").join("")),border:Number($(a).css("border-bottom-width").split("px").join("")),sum:function(){return this.offsetTop+this.height+this.border+this.margin}},c=Number($(this.content()).css("padding-bottom").split("px").join("")),d=c+b.sum();return d};var h=function(){var a=Math.ceil(Number(this._display.mm2px(10))-1);this.spacingsWithHeaders={page:{pTop:5*a,pRight:a,pBottom:3*a,pLeft:a,sumHeight:function(){return this.pTop+this.pBottom},sumWidth:function(){return this.pRight+this.pLeft}}},this.spacingsWithHeaders.header={pTop:a,mRight:this.spacingsWithHeaders.page.pRight,pBottom:a,mLeft:this.spacingsWithHeaders.page.pLeft,mBottom:Math.ceil(a/2),sumHeight:function(){return this.pTop+this.pBottom+this.mBottom+1}},this.spacingsWithHeaders.header.height=this.spacingsWithHeaders.page.pTop-this.spacingsWithHeaders.header.sumHeight(),this.spacingsWithHeaders.footer={pTop:Math.ceil(a/2),mRight:this.spacingsWithHeaders.page.pRight,pBottom:Math.ceil(a/2),mLeft:this.spacingsWithHeaders.page.pLeft,mTop:Math.ceil(a/2),sumHeight:function(){return this.pTop+this.pBottom+this.mTop+1}},this.spacingsWithHeaders.footer.height=this.spacingsWithHeaders.page.pBottom-this.spacingsWithHeaders.footer.sumHeight(),this.spacingsWithoutHeaders={page:{pTop:3*a,pRight:a,pBottom:2*a,pLeft:a,sumHeight:function(){return this.pTop+this.pBottom},sumWidth:function(){return this.pRight+this.pLeft}}}};b.exports=d},{"../utils/page-formats":8,"./Display":2}],4:[function(a,b,c){"use strict";function d(a,b,c){this._pages=[],this._editor=c,this._editor.settings.paginate_configs||(this._editor.settings.paginate_configs=function(){return null}),this._document=c.getDoc(),this._display=new f(this._document),this._defaultPage=new g(a,b,null,null,c),this._body=this._document.getElementsByTagName("body")}function e(a,b,c){return a?(c||(c=0),c+=a.offsetTop,a.className&&a.className.contains(b)?c:e(a.parentNode,b,c)):0}var f=a("./Display"),g=a("./Page"),h=(a("./paginator/parser"),a("./paginator/errors")),i=h.InvalidPageRankError,j=h.InvalidFocusedRangeError,k=(h.InvalidPageHeightError,h.InvalidCursorPosition);d.prototype.destroy=function(){this._pages=null,this._editor=null,this._document=null,this._display=null,this._defaultPage=null,this._body=null},d.prototype.CURSOR_POSITION={ORIGIN:"ORIGIN",END:"END"},d.prototype.init=function(){var a=this;a._previousNodeOffsetTop=0,a.initPages(),$(a._document.body).css("min-width",a._defaultPage.getDefaultWidth()),a._editor.settings.paginate_set_default_height&&$(a._editor.iframeElement).css("height",a._defaultPage.getDefaultHeight()+4*this._defaultPage.MARGIN_Y),a.setInitialSnapshot(),a._editor.undoManager.clear()},d.prototype.initPages=function(){function a(){return $("div[data-paginator-page-rank]",b._body)}var b=this,c=a();if(b._pages=[],c.length)$.each(c,function(a,c){var d=new g(b._defaultPage.format().label,b._defaultPage.orientation,a+1,c,b._editor);b._pages.push(d)});else{var d=$(b._body).find("p").detach();n.call(this,d)}},d.prototype.updatePages=function(){for(var a=this,b=a._body.tinymce.children,c=0;c<b.length;c++)try{var d=a.getPage(c+1);d.content(b[c])}catch(e){o.call(a,b[c],c+1)}a._pages.splice(b.length),a.toggleHeadersAndFooters()},d.prototype.setInitialSnapshot=function(){this._initial_snapshot=this.currentContent()},d.prototype.isDirty=function(){return this._initial_snapshot!=this.currentContent()},d.prototype.isEmpty=function(){var a="";return $.each(this.getPages(),function(b,c){a+=c.content().innerText}),!a.replace(/\r?\n|\r/gim,"")},d.prototype.contentIsEmpty=function(){var a=!0;return $.each(this.getPages(),function(b,c){a=c.contentIsEmpty()}),a},d.prototype.currentContent=function(){var a="";return $.each(this.getPages(),function(b,c){c=c.innerContent().text(),c&&(a+=c)}),a},d.prototype.getCurrentPage=function(){return this.getFocusedPage()},d.prototype.getFocusedPage=function(){var a,b;try{var c;return b=l.call(this),c=$(b).attr("data-paginator-page-rank"),a=this.getPage(c)}catch(d){return null}},d.prototype.getPage=function(a){try{a=Number(a)}catch(b){throw new i(a)}if(!this._pages.length)throw new Error("Paginator pages length in null. Can't iterate on it.");var c,d=0>a-1,e=a-1>this._pages.length;if(d||e)throw new i(a);return $.each(this._pages,function(b,d){d.rank===a&&(c=d)}),c},d.prototype.getPages=function(){return this._pages},d.prototype.getPrevious=function(){try{return this.getPage(this.getCurrentPage().rank-1)}catch(a){return null}},d.prototype.getNext=function(){try{return this.getPage(this.getCurrentPage().rank+1)}catch(a){return null}},d.prototype.gotoPage=function(a,b){function c(){function b(a,c,d){var e=a.childNodes;if(c=c?c:3,d=d?d:[],a.nodeType===c&&d.push(a),e)for(var f=0;f<e.length;f++)d=b(e[f],c,d);return d}var c,d,e,f,h;c=a.content(),d=c.length?c[0].lastChild:c.lastChild,d?(e=b(d),e.length?(f=e[e.length-1],h=f.textContent.length):(f=d,h=0)):(f=c,h=0),g._editor.selection.setCursorLocation(f,h)}function d(){var b,c;b=a.content(),c=b.firstChild,g._editor.selection.setCursorLocation(c,0)}function e(a){for(var b=a;;){if(3===b.nodeType||$(b).attr("data-mce-bogus"))break;b=$(b).contents().last()[0]}g._editor.selection.setCursorLocation(b,b.textContent.length||0)}var f,g=this,h=(this.getPage(a.rank).content(),this.getCurrentPage());if(h&&(f=this.getPage(h.rank).content()),!a)throw new Error("Cant navigate to undefined page");if(a!==h){if("object"==typeof b)e(b);else if(b===this.CURSOR_POSITION.ORIGIN)d();else if(b===this.CURSOR_POSITION.END)c();else{if(void 0!==b)throw console.error("InvalidCursorPosition"),new k(b);console.error("no valid cursor position"),console.log(b)}this._editor.focus(),this._editor.dom.fire(this._editor.getDoc(),"PageChange",{fromPage:h,toPage:a,timestamp:(new Date).getTime()})}},d.prototype.gotoFocusedPage=function(){var a,b;try{var c;b=l.call(this),c=$(b).attr("data-paginator-page-rank"),a=this.getPage(c)}catch(d){a=this.getPage(1),b=a.content(),this._editor.selection.select(b,!0)}finally{this.gotoPage(a,this.CURSOR_POSITION.END)}},d.prototype.gotoPrevious=function(a){var b=this.getPrevious();return a=a||this.CURSOR_POSITION.END,b?this.gotoPage(b,a):null},d.prototype.gotoNext=function(a){var b=this.getNext();return a=a||this.CURSOR_POSITION.END,b?this.gotoPage(b,a):null},d.prototype.watchPage=function(){var a=[],b=0,c=this,d=(c._editor.settings.paginate_configs(),this._editor.selection.getBookmark());c._previousBodyOffSetTop=$(c._body).scrollTop();var e=c.getPage(1).getInnerHeight(),f=0,g=1,h=0;$.each(c.getPages(),function(c,d){d.innerContent().each(function(c,d){var i=Number($(d).css("margin-top").split("px").join("")),j=Number($(d).css("margin-bottom").split("px").join("")),k=$(d).outerHeight()+i,l={prevPageIndex:c,generalIndex:b++,height:k,html:$(d).detach()};a.push(l),f+l.height+j>e&&(g++,h=0,f=0),l.rank=g,l.newPageIndex=h++,f+=l.height})});for(var i,j=1,k=c.getPage(1);void 0!==(i=a.shift());)j!==i.rank&&(j=i.rank,k=c.getPage(i.rank),k||(k=n.call(c,void 0,i.rank>1?c.getPage(i.rank-1):void 0))),k.append(i.html);$.each(c.getPages(),function(a,b){return b.innerContent().length?void 0:c.removePage(b)}),c._editor.selection.moveToBookmark(d),c.updateScrollPosition()},d.prototype.updateScrollPosition=function(){var a=this,b=a._editor.selection.getSel().baseNode,c=1===b.nodeType?b:b.parentNode,d=e(c,"preventdelete"),f=$(c).outerHeight(!0),g=Math.ceil($(a._editor.iframeElement).height()),h=a._previousBodyOffSetTop,i=$(a._body).scrollTop();if(d>=h&&h+g>d+f)return a._previousNodeOffsetTop=d,void(h!==i&&$(a._body).scrollTop(h));var j=h>d?0:g-f;$(a._body).scrollTop(d-j),a._previousNodeOffsetTop=d},d.prototype.toggleHeadersAndFooters=function(){var a=this;$.each(this.getPages(),function(a,b){b.setHeadersAndFooters()}),a.watchPage()},d.prototype.removePage=function(a){var b=this;$.each(b.getPages(),function(c,d){return d.rank===a.rank?($(a.content()).remove(),b.getPages().splice(c,1),!1):void 0})};var l=function(){var a,b,c,d=this._editor.selection.getRng();if(b=d.startContainer,c=$(b).closest('div[data-paginator="true"]'),!c.length)throw new j;return a=c[0]},m=function(a){var b=$("<div>").attr({"data-paginator":!0,"data-paginator-page-rank":a}).css({margin:this._defaultPage.MARGIN_Y+"px auto","min-height":this._defaultPage.getInnerHeight(),width:this._defaultPage.getInnerWidth()}).addClass("preventdelete");return b},n=function(a,b){var c=b||this.getCurrentPage(),d=c?c.rank+1:1,e=m.call(this,d);return a&&$(a).appendTo(e),o.call(this,e[0],d)},o=function(a,b){var c=new g(this._defaultPage.format().label,this._defaultPage.orientation,b,a,this._editor);return this._pages.push(c),$(c.content()).appendTo(this._body),c};c=b.exports=d,c.errors=h},{"./Display":2,"./Page":3,"./paginator/errors":5,"./paginator/parser":6}],5:[function(a,b,c){"use strict";function d(a){this.name="InvalidPageRankError",this.message=a+" is an invalid page rank",this.stack=(new Error).stack}function e(){this.name="InvalidFocusedRangeError",this.message="The text cursor if out of any page.",this.stack=(new Error).stack}function f(a){this.name="InvalidPageHeightError",this.message=a+"px is an invalid page height.",this.stack=(new Error).stack}function g(a){this.name="InvalidCursorPosition",this.message=a+"is an invalid cursor position.",this.stack=(new Error).stack}d.prototype=Error.prototype,d.prototype.name="InvalidPageRankError",e.prototype=Error.prototype,e.prototype.name="InvalidFocusedRangeError",f.prototype=Error.prototype,f.prototype.name="InvalidPageHeightError",g.prototype=Error.prototype,g.prototype.name="InvalidCursorPosition",b.exports={InvalidPageRankError:d,InvalidFocusedRangeError:e,InvalidPageHeightError:f,InvalidCursorPosition:g}},{}],6:[function(a,b,c){"use strict";b.exports={}},{}],7:[function(a,b,c){"use strict";function d(a){function b(b){f.updatePageRankInput(b.toPage.rank),a.nodeChanged()}function c(a){f.removeNavigationButtons(),g.destroy(),i=0,h=!1}function d(b){function c(a){return a.innerText.replace(/\r?\n|\r/gim,"")}function d(a){return $(a).children(":not(.pageFooter):not(.pageHeader)")}function e(b,c){a.selection.setCursorLocation(b.childNodes[0],c)}function f(d){if(("Range"===k.type||a.plugins.paginate.isEmpty()||"BODY"===i.nodeName)&&l&&3!==l.commonAncestorContainer.nodeType){d&&(b.preventDefault(),b.stopPropagation());for(var f=document.createTreeWalker(l.commonAncestorContainer,NodeFilter.SHOW_ALL,{acceptNode:function(a){return a.className&&a.className.contains("page")?NodeFilter.FILTER_REJECT:a.className&&a.className.contains("preventdelete")?NodeFilter.FILTER_SKIP:$(a).closest(".preventdelete").length&&1===a.nodeType&&"BR"!==a.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),h=!1,j=[],m=3===l.startContainer.nodeType?l.startContainer.parentNode:l.startContainer,n=3===l.endContainer.nodeType?l.endContainer.parentNode:l.endContainer;f.nextNode();){if(!h){if(f.currentNode!==m)continue;h=!0}if(j.length>1&&j.pop().remove(),j.push(f.currentNode),f.currentNode===n)break}var o=j.shift();o.innerText=c(o).substr(0,l.startOffset);var p=c(o).length,q=j.pop();l.endOffset<c(n).length&&(q.innerText=c(q).length>0&&c(q).substr(l.endOffset)||"",o.innerText+=c(q)),q.remove(),0===o.children.length&&o.appendChild(document.createElement("br")),e(o,p),g.watchPage(),d&&a.save()}}function h(a,f,h){function i(a){return a?a.className.contains("page")?!0:!1:!0}function l(){if(1===a){var b=c(t[t.length-1]).length-1;return b=Math.max(q,0),e(t[t.length-1],b),m(!0)}return 2===a?(e(t[0],0),m(!0)):void 0}function m(a){a&&(b.preventDefault(),b.stopPropagation())}if(!(0>a)){var n,o,p,q=3===k.baseNode.nodeType?k.baseNode.parentNode:k.baseNode,r=!1;if(1===a?p=i(q.previousElementSibling):2===a&&(p=i(q.nextElementSibling)),!p){if(f)return m(!1);if(h)if(1===a&&0===k.baseOffset){var s=c(q.previousElementSibling).length-1;s=Math.max(s,0),e(q.previousElementSibling,s),r=!0}else 2===a&&c(q).length===k.baseOffset&&(e(q.nextElementSibling,0),r=!0);return g.updateScrollPosition(),m(r)}if(1===a?n=j.previousElementSibling:2===a&&(n=j.nextElementSibling),!n){if(o=d(j),1===a){if(o[0]===q&&0===k.focusOffset)return m(!0)}else if(2===a&&o[o.length-1]===q&&c(o[o.length-1]).length===k.baseOffset)return m(!0);return m(!1)}var t=d(n);if(f){if(o=d(j),1===a){if(0===k.focusOffset&&o[0]===q)return t[t.length-1].innerText+=c(o[0]),o[0].remove(),g.watchPage(),e(t[t.length-1],c(t[t.length-1]).length),m(!0)}else if(2===a&&c(q).length===k.baseOffset&&o[o.length-1]===q)return o[o.length-1].innerText+=c(t[0]),t[0].remove(),g.watchPage(),e(o[o.length-1],c(o[o.length-1]).length),m(!0);return m(!1)}return h?(o=d(j),1===a&&0===k.baseOffset&&(e(t[t.length-1],c(t[t.length-1]).length),r=!0),2===a&&k.baseOffset>=c(o[0]).length-1&&(e(t[0],0),r=!0),g.updateScrollPosition(),m(r)):void l()}}var i=a.selection.getNode(),j="BODY"!==i.nodeName?$(i).closest('div[data-paginator="true"]')[0]:$(i.firstChild),k=a.selection.getSel(),l="Range"===k.type?a.selection.getRng():null,m=0;switch(b.keyCode){case 37:case 38:m=1;case 39:case 40:m||(m=2);case 8:m||(m=1);case 46:if(m||(m=2),!b.ctrlKey){l?f(!0):h(m,8===b.keyCode||46===b.keyCode,37===b.keyCode||39===b.keyCode);break}case 86:case 88:b.ctrlKey&&f(!0);break;case 27:a.plugins.fullscreen.isFullscreen()&&a.execCommand("mceFullScreen");break;case 13:setTimeout(function(){g.watchPage()},0);default:if(!b.ctrlKey){var n=b.keyCode>47&&b.keyCode<58||32==b.keyCode||13==b.keyCode||b.keyCode>64&&b.keyCode<91||b.keyCode>95&&b.keyCode<112||b.keyCode>185&&b.keyCode<193||b.keyCode>218&&b.keyCode<223;n&&f(!1)}}}var g,h=!1,i=0,j=!1;this.disableWatchPage=function(){j=!1},this.enableWatchPage=function(){j=!0},this.getCurrentPage=function(){return g.getCurrentPage()},this.isEmpty=function(){return g.isEmpty()},this.isDirty=function(){return g.isDirty()},this.contentIsEmpty=function(){return g.contentIsEmpty()},a.once("init",function(){g=new e("A4","portrait",a),a.dom.bind(a.getDoc(),"PageChange",b),a.shortcuts.remove("meta+a"),g.init(),h=!0,j=!0,g.gotoFocusedPage(),a.settings.paginate_navigation_buttons&&f.appendNavigationButtons(g)}),a.on("remove",c);var k=500,l=Date.now();a.on("change",function(a){a.preventDefault();h&&j&&(l+k>Date.now()||(l=Date.now(),g.watchPage()))}),a.on("keydown",function(a){d(a)}),a.on("SetContent",function(a){g&&g.updatePages()}),a.on("ToggleHeadersAndFooters",function(a){g.toggleHeadersAndFooters()}),a.on("ToggleMargins",function(a){g.toggleHeadersAndFooters()})}var e=a("./classes/Paginator"),f=a("./utils/ui");e.errors.InvalidPageHeightError;tinymce.PluginManager.add("paginate",d)},{"./classes/Paginator":4,"./utils/ui":9}],8:[function(a,b,c){"use strict";function d(a,b,c){this.label=a,this["long"]=b,this["short"]=c}var e={A4:{"long":"297","short":"210"}},f=[];$.each(e,function(a,b){f[a]=new d(a,b["long"],b["short"])}),b.exports=f},{}],9:[function(a,b,c){"use strict";c.appendNavigationButtons=function(b){function c(c){var d,e=c.target.valueAsNumber,f=b.getCurrentPage().rank;if(e!==f)try{d=b.getPage(e),b.gotoPage(d)}catch(g){if(!(g instanceof a("../classes/paginator/errors").InvalidPageRankError))throw g;window.alert("Il n'y a pas de page #"+e),console.log($(this)),$(this).val(f)}}var d,e={},f=$("body"),g="<a></a>",h="btn glyphicon",i={background:"whitesmoke",width:"100%",top:"0"};d=$("<div></div>").attr("id","paginator-navbar").css({width:"60px",position:"absolute",top:window.screen.height/2-35+"px",right:"40px","z-index":"999"}).appendTo(f),e.btnPrevious=$(g).attr("href","#").attr("title","Previous page").css($.extend(i,{"border-top-left-radius":"25%","border-top-right-radius":"25%","border-bottom-left-radius":"0","border-bottom-right-radius":"0"})).addClass(h+" glyphicon-chevron-up").click(function(){return b.gotoPrevious(),!1}).appendTo(d),e.inputRank=$("<input></input>").attr("type","number").attr("id","input-rank").css({width:"100%","line-height":"30px","text-align":"center"}).change(c).appendTo(d),setTimeout(function(){e.inputRank.val(b.getCurrentPage().rank)},500),e.btnNext=$(g).attr("href","#").attr("title","Next page").css($.extend(i,{width:"100%","border-top-left-radius":"0","border-top-right-radius":"0","border-bottom-left-radius":"25%","border-bottom-right-radius":"25%"})).addClass(h+" glyphicon-chevron-down").click(function(){return b.gotoNext(),!1}).appendTo(d)},c.removeNavigationButtons=function(){$("#paginator-navbar").remove()},c.updatePageRankInput=function(a){$("#input-rank").val(a)}},{"../classes/paginator/errors":5}]},{},[1]);